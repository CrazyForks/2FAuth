import{U as z}from"./index-BpXPhS-I.js";import{P as I,r as w,q as B,o as V,a3 as N,h as x,j as u,k as c,l as E,Q as g,m,d as i,c as h,i as M,e as o,t as n,g as f,f as s,F as R,G as S,n as F}from"./app-CsCdPRLz.js";import{u as L}from"./bus-Basus4b9.js";import{u as T,m as A,M as W}from"./useSortable-BNtc6_gh.js";import{C as q}from"./circle-plus-BQbJ_-Ea.js";import{c as P}from"./createLucideIcon-B_q_KK3i.js";/*! 2FAuth version 6.0.0 - Copyright (c) 2025 Bubka - https://github.com/Bubka/2FAuth *//**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=P("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),j={class:"title has-text-grey-dark"},D={class:"is-size-7-mobile"},H={class:"mt-3 mb-6"},O={key:0},Q={id:"dv"},J=["onClick","title"],K={class:"is-family-primary is-size-6 is-size-7-mobile has-text-grey"},X={class:"mt-2 is-size-7 is-pulled-right"},ne={__name:"Groups",setup(Y){const v=E(),t=I(),y=L(),p=w(!1),{start:k,stop:b}=T("#dv",t.withoutTheAllGroup,{animation:200,handle:".drag-handle",onUpdate:e=>{const r=t.withoutTheAllGroup[e.oldIndex].id,a=t.items.findIndex(l=>l.id==r);A(t.items,a,e.newIndex+1,e),g(()=>{t.saveOrder()})}});return B(()=>t.isEmpty,e=>{e==!1?g(()=>{k()}):b()}),V(()=>{p.value=t.isEmpty,t.fetch().finally(()=>{p.value=!1})}),N((e,r)=>{var a;e.name=="editGroup"&&(y.editedGroupName=(a=t.items.find(l=>l.id==e.params.groupId))==null?void 0:a.name)}),(e,r)=>{const a=c("RouterLink"),l=c("Spinner"),$=c("NavigationButton"),C=c("VueFooter"),G=c("ResponsiveWidthWrapper");return m(),x(G,null,{default:u(()=>[i("h1",j,n(e.$t("heading.groups")),1),i("div",D,n(e.$t("message.manage_groups_legend")),1),i("div",H,[o(a,{class:"is-link mt-5",to:{name:"createGroup"}},{default:u(()=>[o(s(q)),f(" "+n(e.$t("link.create_group")),1)]),_:1})]),s(t).isEmpty?M("",!0):(m(),h("div",O,[o(s(z),null,{default:u(({mode:_})=>[i("span",Q,[(m(!0),h(R,null,S(s(t).withoutTheAllGroup,d=>(m(),h("div",{key:d.id,class:"group-item is-size-5 is-size-6-mobile"},[f(n(d.name)+" ",1),o(s(W),{class:"drag-handle pt-1 ml-2 is-pulled-right has-text-grey is-draggable"}),i("button",{type:"button",class:F(["button tag is-pulled-right",_=="dark"?"is-dark":"is-white"]),onClick:Z=>s(t).remove(d.id),title:e.$t("tooltip.delete")},n(e.$t("label.delete")),11,J),o(a,{to:{name:"editGroup",params:{groupId:d.id}},class:"has-text-grey px-1",title:e.$t("tooltip.rename")},{default:u(()=>[o(s(U),{class:"icon-size-1"})]),_:1},8,["to","title"]),i("span",K,n(e.$t("message.x_accounts",{count:d.twofaccounts_count})),1)]))),128))])]),_:1}),i("div",X,n(e.$t("message.deleting_group_does_not_delete_accounts")),1)])),o(l,{isVisible:s(p)&&s(t).isEmpty,type:"list-loading"},null,8,["isVisible"]),o(C,null,{default:u(()=>[o($,{action:"close",onClosed:r[0]||(r[0]=_=>s(v).push({name:"accounts"})),"current-page-title":e.$t("title.groups")},null,8,["current-page-title"])]),_:1})]),_:1})}}};export{ne as default};
