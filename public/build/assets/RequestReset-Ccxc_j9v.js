import{C as b,Z as w,b as F,a3 as h,h as y,j as g,k as l,m as i,c as B,i as v,d as k,e as u,t as V,f as t,I as R,a1 as C,x as q}from"./app-CLj7mONa.js";import{F as x}from"./Form-CUtLPPZs.js";/*! 2FAuth version 6.0.0 - Copyright (c) 2025 Bubka - https://github.com/Bubka/2FAuth */const N={key:0,class:"block"},E={__name:"RequestReset",setup(L){const m=b(),a=q(),o=w().name=="webauthn.lost",s=F(new x({email:""}));function d(n){a.clear(),s.post(o?"/webauthn/lost":"/user/password/lost",{returnError:!0}).then(e=>{a.success({text:e.data.message,duration:-1})}).catch(e=>{e.response.data.requestFailed?a.alert({text:e.response.data.requestFailed,duration:-1}):e.response.status!==422&&m.show(e)})}return h(()=>{a.clear()}),(n,e)=>{const c=l("FormField"),p=l("FormButtons"),_=l("VueFooter"),f=l("FormWrapper");return i(),y(f,{title:o?"heading.account_recovery":"heading.reset_password",punchline:o?"message.recovery_punchline":"message.reset_punchline"},{default:g(()=>[o?(i(),B("div",N,V(n.$t("message.ensure_you_open_mail_in_trusted_device")),1)):v("",!0),k("form",{onSubmit:R(d,["prevent"]),onKeydown:e[2]||(e[2]=r=>t(s).onKeydown(r))},[u(c,{modelValue:t(s).email,"onUpdate:modelValue":e[0]||(e[0]=r=>t(s).email=r),fieldName:"email",errorMessage:t(s).errors.get("email"),label:"field.email",autofocus:""},null,8,["modelValue","errorMessage"]),u(p,{submitId:"btnSendResetPwd",isBusy:t(s).isBusy,submitLabel:o?"label.send_recovery_link":"label.send_password_reset_link",showCancelButton:!0,onCancel:e[1]||(e[1]=r=>("router"in n?n.router:t(C)).push({name:"login"}))},null,8,["isBusy","submitLabel"])],32),u(_)]),_:1},8,["title","punchline"])}}};export{E as default};
