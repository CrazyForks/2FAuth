import{C as c,D as N,a8 as O,a9 as k,N as w,r as F,a3 as U,o as C,c as I,e as a,d as u,f as s,a1 as g,aa as E,j as S,k as d,m as L,t as V,x as W,ac as B}from"./app-CsCdPRLz.js";import{t as x}from"./tabs-CopbGQHR.js";import{u as M}from"./appSettingsUpdater-B98f63dI.js";/*! 2FAuth version 6.0.0 - Copyright (c) 2025 Bubka - https://github.com/Bubka/2FAuth */const P={class:"options-tabs"},$={class:"title is-4 pt-4 has-text-grey-light"},j={class:"title is-4 pt-4 has-text-grey-light"},z={__name:"Auth",setup(A){const R=c(),{t:m}=N(),y=w("2fauth"),p=W(),l=O(),h=k(y.prefix+"returnTo","accounts"),r=F({restrictList:null,restrictRule:null});async function b(i,e){r.value[i]=null,e==""?B.delete(i,{returnError:!0}).then(o=>{l[i]="",p.success({type:"is-success",text:m("notification.setting_saved")})}).catch(o=>{o.response.status!==404&&R.show(o)}):n(i,e)}async function n(i,e){const{error:o}=await M(i,e,!0);o!=null&&Object.prototype.hasOwnProperty.call(r.value,i)?r.value[i]=o.response.data.message:p.success({text:m("notification.setting_saved")})}return U(i=>{i.name.startsWith("admin.")||p.clear()}),C(async()=>{await l.fetch()}),(i,e)=>{const o=d("FormCheckbox"),f=d("FormField"),v=d("FormWrapper"),D=d("NavigationButton"),_=d("VueFooter");return L(),I("div",null,[a(s(E),{tabs:s(x),"active-tab":"admin.auth",onTabSelected:e[0]||(e[0]=t=>("router"in i?i.router:s(g)).push({name:t}))},null,8,["tabs"]),u("div",P,[a(v,null,{default:S(()=>[u("form",null,[u("h4",$,V(i.$t("heading.single_sign_on")),1),a(o,{modelValue:s(l).enableSso,"onUpdate:modelValue":[e[1]||(e[1]=t=>s(l).enableSso=t),e[2]||(e[2]=t=>n("enableSso",t))],fieldName:"enableSso",label:"field.enable_sso",help:"field.enable_sso.help"},null,8,["modelValue"]),a(o,{modelValue:s(l).useSsoOnly,"onUpdate:modelValue":[e[3]||(e[3]=t=>s(l).useSsoOnly=t),e[4]||(e[4]=t=>n("useSsoOnly",t))],fieldName:"useSsoOnly",label:"field.use_sso_only",help:"field.use_sso_only.help",isDisabled:!s(l).enableSso,isIndented:!0},null,8,["modelValue","isDisabled"]),a(o,{modelValue:s(l).allowPatWhileSsoOnly,"onUpdate:modelValue":[e[5]||(e[5]=t=>s(l).allowPatWhileSsoOnly=t),e[6]||(e[6]=t=>n("allowPatWhileSsoOnly",t))],fieldName:"allowPatWhileSsoOnly",label:"field.allow_pat_in_sso_only",help:"field.allow_pat_in_sso_only.help",isDisabled:!s(l).useSsoOnly,isIndented:!0},null,8,["modelValue","isDisabled"]),u("h4",j,V(i.$t("heading.registrations")),1),a(o,{modelValue:s(l).restrictRegistration,"onUpdate:modelValue":[e[7]||(e[7]=t=>s(l).restrictRegistration=t),e[8]||(e[8]=t=>n("restrictRegistration",t))],fieldName:"restrictRegistration",isDisabled:s(l).disableRegistration,label:"field.restrict_registration",help:"field.restrict_registration.help"},null,8,["modelValue","isDisabled"]),a(f,{modelValue:s(l).restrictList,"onUpdate:modelValue":e[9]||(e[9]=t=>s(l).restrictList=t),"onChange:modelValue":e[10]||(e[10]=t=>b("restrictList",t)),errorMessage:s(r).restrictList,fieldName:"restrictList",isDisabled:!s(l).restrictRegistration||s(l).disableRegistration,label:"field.restrict_list",help:"field.restrict_list.help",isIndented:!0},null,8,["modelValue","errorMessage","isDisabled"]),a(f,{modelValue:s(l).restrictRule,"onUpdate:modelValue":e[11]||(e[11]=t=>s(l).restrictRule=t),"onChange:modelValue":e[12]||(e[12]=t=>b("restrictRule",t)),errorMessage:s(r).restrictRule,fieldName:"restrictRule",isDisabled:!s(l).restrictRegistration||s(l).disableRegistration,label:"field.restrict_rule",help:"field.restrict_rule.help",isIndented:!0,leftIcon:"Slash",rightIcon:"Slash"},null,8,["modelValue","errorMessage","isDisabled"]),a(o,{modelValue:s(l).disableRegistration,"onUpdate:modelValue":[e[13]||(e[13]=t=>s(l).disableRegistration=t),e[14]||(e[14]=t=>n("disableRegistration",t))],fieldName:"disableRegistration",label:"field.disable_registration",help:"field.disable_registration.help"},null,8,["modelValue"]),a(o,{modelValue:s(l).keepSsoRegistrationEnabled,"onUpdate:modelValue":[e[15]||(e[15]=t=>s(l).keepSsoRegistrationEnabled=t),e[16]||(e[16]=t=>n("keepSsoRegistrationEnabled",t))],fieldName:"keepSsoRegistrationEnabled",isDisabled:!s(l).enableSso||!s(l).disableRegistration,label:"field.keep_sso_registration_enabled",help:"field.keep_sso_registration_enabled.help",isIndented:!0},null,8,["modelValue","isDisabled"])])]),_:1})]),a(_,null,{default:S(()=>[a(D,{action:"close",onClosed:e[17]||(e[17]=t=>("router"in i?i.router:s(g)).push({name:s(h)})),"current-page-title":i.$t("title.admin.auth")},null,8,["current-page-title"])]),_:1})])}}};export{z as default};
