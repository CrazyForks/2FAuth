import{D as _,b,c as V,e as r,j as g,k as n,l as x,m as y,d as B,f as o,I as C,x as M}from"./app-CLj7mONa.js";import{F as U}from"./Form-CUtLPPZs.js";/*! 2FAuth version 6.0.0 - Copyright (c) 2025 Bubka - https://github.com/Bubka/2FAuth */const D={__name:"Create",setup(v){const{t:m}=_(),i=M(),l=x(),e=b(new U({name:"",email:"",password:"",password_confirmation:"",is_admin:!1}));async function d(u){e.password_confirmation=e.password,e.post("/api/v1/users").then(s=>{const t=s.data;i.success({text:m("notification.user_created")}),l.push({name:"admin.manageUser",params:{userId:t.info.id}})})}return(u,s)=>{const t=n("FormField"),p=n("FormPasswordField"),f=n("FormCheckbox"),c=n("FormButtons"),w=n("FormWrapper"),F=n("VueFooter");return y(),V("div",null,[r(w,{title:"heading.new_user"},{default:g(()=>[B("form",{onSubmit:C(d,["prevent"]),onKeydown:s[5]||(s[5]=a=>o(e).onKeydown(a))},[r(t,{modelValue:o(e).name,"onUpdate:modelValue":s[0]||(s[0]=a=>o(e).name=a),fieldName:"name",errorMessage:o(e).errors.get("name"),inputType:"text",label:"field.name",autocomplete:"username",maxLength:255,autofocus:""},null,8,["modelValue","errorMessage"]),r(t,{modelValue:o(e).email,"onUpdate:modelValue":s[1]||(s[1]=a=>o(e).email=a),fieldName:"email",errorMessage:o(e).errors.get("email"),inputType:"email",label:"field.email",autocomplete:"email",maxLength:255},null,8,["modelValue","errorMessage"]),r(p,{modelValue:o(e).password,"onUpdate:modelValue":s[2]||(s[2]=a=>o(e).password=a),fieldName:"password",errorMessage:o(e).errors.get("password"),showRules:!0,label:"field.password",autocomplete:"new-password"},null,8,["modelValue","errorMessage"]),r(f,{modelValue:o(e).is_admin,"onUpdate:modelValue":s[3]||(s[3]=a=>o(e).is_admin=a),fieldName:"is_admin",label:"field.is_admin",help:"field.is_admin.help"},null,8,["modelValue"]),r(c,{isBusy:o(e).isBusy,isDisabled:o(e).isDisabled,showCancelButton:!0,onCancel:s[4]||(s[4]=a=>o(l).push({name:"admin.users"})),submitLabel:"label.create",submitId:"btnCreateUser"},null,8,["isBusy","isDisabled"])],32)]),_:1}),r(F)])}}};export{D as default};
